<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Read a DataVolley or VolleyStation file — dv_read • datavolley</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Raleway-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Patua_One-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Read a DataVolley or VolleyStation file — dv_read"><meta name="description" content='The do_transliterate option may be helpful when trying to work with multiple files from the same competition, since different text encodings may be used on different files. This can lead to e.g. multiple versions of the same team name. Transliterating can help avoid this, at the cost of losing e.g. diacriticals. Transliteration is applied after converting from the specified text encoding to UTF-8. Common encodings used with DataVolley files include "windows-1252" (western Europe), "windows-1250" (central Europe), "iso-8859-1" (western Europe and Americas), "iso-8859-2" (central/eastern Europe), "iso-8859-13" (Baltic languages)'><meta property="og:description" content='The do_transliterate option may be helpful when trying to work with multiple files from the same competition, since different text encodings may be used on different files. This can lead to e.g. multiple versions of the same team name. Transliterating can help avoid this, at the cost of losing e.g. diacriticals. Transliteration is applied after converting from the specified text encoding to UTF-8. Common encodings used with DataVolley files include "windows-1252" (western Europe), "windows-1250" (central Europe), "iso-8859-1" (western Europe and Americas), "iso-8859-2" (central/eastern Europe), "iso-8859-13" (Baltic languages)'><meta property="og:image" content="/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">datavolley</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.14.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/datavolley.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/openvolley/datavolley/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Read a DataVolley or VolleyStation file</h1>
      <small class="dont-index">Source: <a href="https://github.com/openvolley/datavolley/blob/HEAD/R/read_dv.R" class="external-link"><code>R/read_dv.R</code></a></small>
      <div class="d-none name"><code>dv_read.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The <code>do_transliterate</code> option may be helpful when trying to work with multiple files from the same competition, since different text encodings may be used on different files. This can lead to e.g. multiple versions of the same team name. Transliterating can help avoid this, at the cost of losing e.g. diacriticals. Transliteration is applied after converting from the specified text encoding to UTF-8. Common encodings used with DataVolley files include "windows-1252" (western Europe), "windows-1250" (central Europe), "iso-8859-1" (western Europe and Americas), "iso-8859-2" (central/eastern Europe), "iso-8859-13" (Baltic languages)</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">dv_read</span><span class="op">(</span></span>
<span>  <span class="va">filename</span>,</span>
<span>  insert_technical_timeouts <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  do_warn <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  do_transliterate <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  encoding <span class="op">=</span> <span class="st">"guess"</span>,</span>
<span>  date_format <span class="op">=</span> <span class="st">"guess"</span>,</span>
<span>  extra_validation <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  validation_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  surname_case <span class="op">=</span> <span class="st">"asis"</span>,</span>
<span>  skill_evaluation_decode <span class="op">=</span> <span class="st">"default"</span>,</span>
<span>  <span class="va">custom_code_parser</span>,</span>
<span>  metadata_only <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">edited_meta</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_dv</span><span class="op">(</span></span>
<span>  <span class="va">filename</span>,</span>
<span>  insert_technical_timeouts <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  do_warn <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  do_transliterate <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  encoding <span class="op">=</span> <span class="st">"guess"</span>,</span>
<span>  date_format <span class="op">=</span> <span class="st">"guess"</span>,</span>
<span>  extra_validation <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  validation_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  surname_case <span class="op">=</span> <span class="st">"asis"</span>,</span>
<span>  skill_evaluation_decode <span class="op">=</span> <span class="st">"default"</span>,</span>
<span>  <span class="va">custom_code_parser</span>,</span>
<span>  metadata_only <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">edited_meta</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-filename">filename<a class="anchor" aria-label="anchor" href="#arg-filename"></a></dt>
<dd><p>string: file name to read</p></dd>


<dt id="arg-insert-technical-timeouts">insert_technical_timeouts<a class="anchor" aria-label="anchor" href="#arg-insert-technical-timeouts"></a></dt>
<dd><p>logical or list: should we insert technical timeouts? If TRUE, technical timeouts are inserted at points 8 and 16 of sets 1–4 (for indoor files) or when the team scores sum to 21 in sets 1–2 (beach). Otherwise a two-element list can be supplied, giving the scores at which technical timeouts will be inserted for sets 1–4, and  set 5.</p></dd>


<dt id="arg-do-warn">do_warn<a class="anchor" aria-label="anchor" href="#arg-do-warn"></a></dt>
<dd><p>logical: should we issue warnings about the contents of the file as we read it?</p></dd>


<dt id="arg-do-transliterate">do_transliterate<a class="anchor" aria-label="anchor" href="#arg-do-transliterate"></a></dt>
<dd><p>logical: should we transliterate all text to ASCII? See details</p></dd>


<dt id="arg-encoding">encoding<a class="anchor" aria-label="anchor" href="#arg-encoding"></a></dt>
<dd><p>character: text encoding to use. Text is converted from this encoding to UTF-8. A vector of multiple encodings can be provided, and this function will attempt to choose the best. If encoding is "guess", the encoding will be guessed</p></dd>


<dt id="arg-date-format">date_format<a class="anchor" aria-label="anchor" href="#arg-date-format"></a></dt>
<dd><p>string: the expected date format (one of "ymd", "mdy", or "dmy") or "guess". If <code>date_format</code> is something other than "guess", that date format will be preferred where dates are ambiguous</p></dd>


<dt id="arg-extra-validation">extra_validation<a class="anchor" aria-label="anchor" href="#arg-extra-validation"></a></dt>
<dd><p>numeric: should we run some extra validation checks on the file? 0=no extra validation, 1=check only for major errors, 2=somewhat more extensive, 3=the most extra checking</p></dd>


<dt id="arg-validation-options">validation_options<a class="anchor" aria-label="anchor" href="#arg-validation-options"></a></dt>
<dd><p>list: additional options to pass to the validation step. See <code><a href="dv_validate.html">dv_validate()</a></code> for details</p></dd>


<dt id="arg-surname-case">surname_case<a class="anchor" aria-label="anchor" href="#arg-surname-case"></a></dt>
<dd><p>string or function: should we change the case of player surnames? If <code>surname_case</code> is a string, valid values are "upper","lower","title", or "asis"; otherwise <code>surname_case</code> may be a function that will be applied to the player surname strings</p></dd>


<dt id="arg-skill-evaluation-decode">skill_evaluation_decode<a class="anchor" aria-label="anchor" href="#arg-skill-evaluation-decode"></a></dt>
<dd><p>function or string: if <code>skill_evaluation_decode</code> is a string, it can be either "default" (use the default DataVolley conventions for dvw or vsm files), "volleymetrics" (to follow the scouting conventions used by VolleyMetrics), "german" (same as "default" but with B/ and B= swapped), or "guess" (use volleymetrics if it looks like a VolleyMetrics file, otherwise default). If <code>skill_evaluation_decode</code> is a function, it should convert skill evaluation codes into meaningful phrases. See <code><a href="skill_evaluation_decoder.html">skill_evaluation_decoder()</a></code></p></dd>


<dt id="arg-custom-code-parser">custom_code_parser<a class="anchor" aria-label="anchor" href="#arg-custom-code-parser"></a></dt>
<dd><p>function: function to process any custom codes that might be present in the datavolley file. This function takes one input (the <code>datavolley</code> object) and should return a list with two named components: <code>plays</code> and <code>messages</code></p></dd>


<dt id="arg-metadata-only">metadata_only<a class="anchor" aria-label="anchor" href="#arg-metadata-only"></a></dt>
<dd><p>logical: don't process the plays component of the file, just the match and player metadata</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>logical: if TRUE, show progress</p></dd>


<dt id="arg-edited-meta">edited_meta<a class="anchor" aria-label="anchor" href="#arg-edited-meta"></a></dt>
<dd><p>list: if supplied, will be used in place of the metadata present in the file itself. This makes it possible to, for example, read a file, edit the metadata, and re-parse the file but using the modified metadata</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A named list with several elements. <code>meta</code> provides match metadata, <code>plays</code> is the main play-by-play data in the form of a data.frame. <code>raw</code> is the line-by-line content of the datavolley file. <code>messages</code> is a data.frame describing any inconsistencies found in the file.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p><a href="http://www.dataproject.com/IT/en/Volleyball" class="external-link">http://www.dataproject.com/IT/en/Volleyball</a></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="skill_evaluation_decoder.html">skill_evaluation_decoder()</a></code>, <code><a href="dv_validate.html">dv_validate()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span>  <span class="co">## to read the example file bundled with the package</span></span></span>
<span class="r-in"><span>  <span class="va">myfile</span> <span class="op">&lt;-</span> <span class="fu"><a href="dv_example_file.html">dv_example_file</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">dv_read</span><span class="op">(</span><span class="va">myfile</span>, insert_technical_timeouts<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co">## or to read your own file:</span></span></span>
<span class="r-in"><span>  <span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">dv_read</span><span class="op">(</span><span class="st">"c:/some/path/myfile.dvw"</span>, insert_technical_timeouts<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co">## Insert a technical timeout at point 12 in sets 1 to 4:</span></span></span>
<span class="r-in"><span>  <span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">dv_read</span><span class="op">(</span><span class="va">myfile</span>, insert_technical_timeouts<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">12</span><span class="op">)</span>,<span class="cn">NULL</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co">## to read a VolleyMetrics file</span></span></span>
<span class="r-in"><span>  <span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">dv_read</span><span class="op">(</span><span class="va">myfile</span>, skill_evaluation_decode <span class="op">=</span> <span class="st">"volleymetrics"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ben Raymond, Adrien Ickowicz, Tyler Widdison.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

